<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Forced Labor – Chore Chart</title>

<!-- PWA / manifest -->
<link rel="manifest" href="manifest.json" />

<!-- iPhone / iPad Home Screen Icon -->
<link rel="apple-touch-icon" href="apple-touch-icon.png" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-title" content="Forced Labor" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="theme-color" content="#000000" />

<style>
:root {
  --bg: #111111;
  --card-bg: #181818;
  --border: #333333;
  --text: #f0f0f0;

  --emmitt: #3fbf6b;
  --turner: #2684ff;
  --miles: #e5a72b;
  --stewart: #c852ff;
  --today: #f64c4c;
}

* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  padding: 20px;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", Helvetica, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  max-width: 960px;
  margin-left: auto;
  margin-right: auto;
}

h1 {
  text-align: center;
  font-size: 28px;
  margin: 10px 0 24px;
}

h2 {
  font-size: 18px;
  margin: 0 0 12px;
}

.card {
  background: var(--card-bg);
  border-radius: 14px;
  border: 1px solid var(--border);
  padding: 20px;
  margin-bottom: 24px;
  box-shadow: 0 18px 35px rgba(0,0,0,0.35);
}

.label-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.label-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 14px;
  border-radius: 999px;
  font-size: 14px;
  background: #262626;
  border: 1px solid #3a3a3a;
  cursor: pointer;
  user-select: none;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.label-pill.active {
  background: var(--current-color, #f0b429);
  color: #000000;
  border-color: transparent;
  font-weight: 600;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
  font-size: 13px;
}

th, td {
  border: 1px solid #262626;
  padding: 8px 6px;
  text-align: center;
}

th {
  background: #1f1f1f;
  font-weight: 600;
}

td:first-child {
  text-align: left;
}

.boy-cell {
  transition: background-color 0.18s ease, color 0.18s ease, opacity 0.18s ease;
}

.boy-cell.dim {
  opacity: 0.25;
}

.boy-cell.highlight {
  background: #f5c04c;
  color: #000000;
  font-weight: 600;
}

@media (max-width: 640px) {
  body {
    padding: 12px;
  }

  h1 {
    font-size: 22px;
  }

  .card {
    padding: 14px;
  }

  table {
    font-size: 11px;
  }

  th, td {
    padding: 6px 4px;
  }
}
</style>
</head>
<body>

<h1>Forced Labor Chore Chart</h1>

<div class="card">
  <h2>Select Worker</h2>
  <div class="label-row" id="boys"></div>
</div>

<div class="card">
  <h2>Daily Chores</h2>
  <p style="margin:0 0 6px;font-size:13px;color:#bbbbbb;">
    Rotating by day of week. Tap a name above to highlight their jobs.
  </p>
  <div id="daily"></div>
</div>

<div class="card">
  <h2>Weekly Chores</h2>
  <p style="margin:0 0 6px;font-size:13px;color:#bbbbbb;">
    Same rotation pattern for weekly work.
  </p>
  <div id="weekly"></div>
</div>

<script>
// Colors for each boy
const boys = {
  Emmitt: "var(--emmitt)",
  Turner: "var(--turner)",
  Miles: "var(--miles)",
  Stewart: "var(--stewart)"
};

const days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

// Same rotation pattern you used in the sheet
const dailyAssignments = {
  Sun: "Turner",
  Mon: "Miles",
  Tue: "Stewart",
  Wed: "Emmitt",
  Thu: "Miles",
  Fri: "Stewart",
  Sat: "Emmitt"
};

const dailyChores = [
  "Kitchen (dishes, countertops, dining room)",
  "Dogs (food, water, back porch)",
  "Trash, grill",
  "Driveway, deck, Mom’s car"
];

const weeklyChores = [
  "Bathrooms",
  "Vacuum + Mop",
  "Laundry Room",
  "Mirrors & Windows",
  "Dusting"
];

// Build boy selector pills (All + each boy)
const boyRow = document.getElementById("boys");

function makePill(label, boyName = null) {
  const pill = document.createElement("div");
  pill.className = "label-pill";
  pill.textContent = label;
  if (boyName) {
    pill.dataset.boy = boyName;
  } else {
    pill.dataset.boy = "All";
  }
  pill.addEventListener("click", () => {
    setActiveBoy(boyName);
  });
  boyRow.appendChild(pill);
}

makePill("All", null);
Object.keys(boys).forEach(name => makePill(name, name));

// Build tables with data-boy attributes
function buildTable(chores, containerId, assignments) {
  let html = "<table><tr><th>Chore</th>";
  days.forEach(d => {
    html += `<th>${d}</th>`;
  });
  html += "</tr>";

  chores.forEach(chore => {
    html += `<tr><td>${chore}</td>`;
    days.forEach(d => {
      const boy = assignments[d];
      html += `<td class="boy-cell" data-boy="${boy}">${boy}</td>`;
    });
    html += "</tr>";
  });

  html += "</table>";
  document.getElementById(containerId).innerHTML = html;
}

buildTable(dailyChores, "daily", dailyAssignments);
buildTable(weeklyChores, "weekly", dailyAssignments);

// Highlight logic
function setActiveBoy(boyName) {
  // Update pill styles
  document.querySelectorAll(".label-pill").forEach(pill => {
    const pillBoy = pill.dataset.boy;
    const isAll = pillBoy === "All";
    const isActive =
      (boyName === null && isAll) ||
      (boyName !== null && pillBoy === boyName);

    pill.classList.toggle("active", isActive);
    if (boyName && pillBoy === boyName) {
      pill.style.setProperty("--current-color", boys[boyName]);
    }
  });

  // Update table cells
  const cells = document.querySelectorAll(".boy-cell");
  cells.forEach(cell => {
    cell.classList.remove("dim", "highlight");
    if (!boyName) {
      // All = normal
      return;
    }
    if (cell.dataset.boy === boyName) {
      cell.classList.add("highlight");
    } else {
      cell.classList.add("dim");
    }
  });
}

// Default state: All selected
setActiveBoy(null);
</script>

</body>
</html>
